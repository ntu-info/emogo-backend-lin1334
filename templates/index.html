<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV & Video Manager</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 2rem auto; padding: 0 1rem; }
        .upload-section { border: 2px dashed #ccc; padding: 20px; text-align: center; margin-bottom: 2rem; }
        .file-list { list-style: none; padding: 0; }
        .file-item { border-bottom: 1px solid #eee; padding: 10px 0; display: flex; justify-content: space-between; align-items: center; }
        .btn { padding: 5px 10px; text-decoration: none; border-radius: 4px; }
        .btn-download { background-color: #007bff; color: white; }
        .btn-upload { background-color: #28a745; color: white; border: none; padding: 10px 20px; cursor: pointer; }
    </style>
</head>
<body>

    <h1>File Storage (CSV & Video)</h1>

    <div class="upload-section">
        <h3>Upload New File</h3>
        <form action="/upload/" method="post" enctype="multipart/form-data">
            <input type="file" name="file" accept=".csv, video/*" required>
            <button type="submit" class="btn btn-upload">Upload</button>
        </form>
    </div>

    <h3>Available Files</h3>
    <ul class="file-list">
        {% for file in files %}
        <li class="file-item">
            <div>
                <strong>{{ file.filename }}</strong>
                <br>
                <small style="color: #666;">Type: {{ file.content_type }} | Uploaded: {{ file.upload_date.strftime('%Y-%m-%d') }}</small>
            </div>
            <a href="/download/{{ file.id }}" class="btn btn-download">Download</a>
        </li>
        {% else %}
        <p>No files uploaded yet.</p>
        {% endfor %}
    </ul>

</body>
</html>